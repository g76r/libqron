graph g {

// configuration objects carrying params
node [shape=box,style=filled,color=powderblue]
global [label="Global Params"]
workflowtask [label="Workflow Task Params"]
taskgroup [label="Task Group Params"]
task [label="Task Params"]
noticetrigger [label="Notice Trigger\nOverriding Params"]
crontrigger [label="Cron Trigger\nOverriding Params"]
requesttaskaction [label="RequestTask Action\nOverriding Params"]
otheraction [label="Other Action Params\n(RequestUrl, RaiseAlert...)"]
alerts [label="Alerts Params"]
//webconsole [label="Web Console Params"]
alertsub [label="Alert Subcription Params"]
gridboard [label="Gridboard Params"]

// runtime objects carrying params
node [shape=ellipse]
taskinstance [label="Task Instance Params\n(as overriden on request)"]
workflowtaskinstance [label="Workflow Task Instance\nParams (as overriden\non request)"]
event [label="Event Params"]
notice [label="Notice Params"]

// actors
node [shape=hexagon,style=dashed,color=""]
restapi [label="REST API"]
//time [label="time"]

// ParamSet inheritage (mostly in configuration)
edge [dir=back,arrowtail=onormal,color=navy,fontcolor=navy]
global -- taskgroup -- workflowtask
workflowtask -- task [label="(if workflow subtask)"]
taskgroup -- task [label="(otherwise)"]
task -- taskinstance
global -- event
global -- notice
global -- alerts -- alertsub
alerts -- gridboard
//global -- webconsole

// parameter injection at runtime
edge [dir=forward,arrowhead=vee,color=black,fontcolor=black]
workflowtaskinstance -- taskinstance [label="(if workflow subtask)"]
crontrigger -- taskinstance
noticetrigger -- taskinstance
event -- notice [label="postnotice\naction"]
notice -- event [label="onnotice\nevent"]
restapi [label="rest api"]
restapi -- notice [label="postnotice\ncall"]
requesttaskaction -- taskinstance
restapi -- taskinstance [label="requesttask\ncall"]
//time -- crontrigger
crontrigger -- event [label="ontrigger\nevent\n(in workflow)"]
noticetrigger -- event [label="ontrigger\nevent\n(in workflow)"]

// context for parameters evaluation
edge [dir=forward,arrowhead=dot,color=orange4,fontcolor=orange4]
notice -- noticetrigger
global -- crontrigger
event -- requesttaskaction [label="requesttask\naction"]
taskinstance -- requesttaskaction [label="(if event occurs\nwithin task)",weight=0,taillabel="only %!\nparams"]
event -- otheraction [label="other\naction"]
taskinstance -- otheraction [label="(if event occurs\nwithin task)",weight=0,taillabel="only %!\nparams"]
}
