<!DOCTYPE html>
<!--
 Copyright 2012-2014 Hallowyn and others.
 This file is part of qron, see <http://qron.hallowyn.com/>.
 Qron is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.
 Qron is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.
 You should have received a copy of the GNU Affero General Public License
 along with qron. If not, see <http://www.gnu.org/licenses/>.
-->
<?include:header.html?>

      <div class="row">
        <div class="span12">
          <p>There are two kinds of alerts: those which are emitted when raised
          and those which are emitted immediatly (one shot alerts).
          <p>The first table displays alerts of the first kind, including a
          visibility timestamp if the alert is not yet raised and
          cancellation timestamp if the alert as been canceled (rising and
          cancellation are not immediatly effective to avoid alerts flip/flop).
          <p>The second table displays every alert (raised or not) along with
          its emission timestamp. Note that alerts with a human recipient
          (e.g. e-mail) are aggregated and throttled and therefore may be
          actually sent to their recipient a few time after if other alerts
          have already been emitted recently.
        </div>
      </div>
      <div class="row">
        <div class="span8">
          <h2>Currently rising or raised alerts</h2>
          <form class="form-inline" action="do" type="GET">
          <a class="btn btn-primary" href="../rest/csv/alerts/raised/list/v1"><i class="icon-file-excel"></i> CSV</a>
          <a class="btn btn-primary" href="../rest/html/alerts/raised/list/v1"><i class="icon-file-html"></i> HTML</a>
          <a class="btn btn-info" href="events.html">Events page &raquo;</a>
          <span class="pull-right">
              <input name="event" type="hidden" value="raiseAlert" />
              <input class="input-large" name="alert" type="text" placeholder="alert name" />
              <button class="btn btn-danger" type="submit" value="submit"><i class="icon-bell"></i> Raise alert</button>
          </span>
          </form>
          <p><?view:raisedalertsfull?>
        </div>
        <div class="span4">
          <h2>Alert params</h2>
          <p><a class="btn btn-primary" href="../rest/csv/alerts/params/v1"><i class="icon-file-excel"></i> CSV</a>
          <a class="btn btn-primary" href="../rest/html/alerts/params/v1"><i class="icon-file-html"></i> HTML</a>
          <p><?view:alertparams?>
        </div>
      </div>
      <div class="row">
        <div class="span8">
          <h2>Recently emitted alerts</h2>
          <form class="form-inline" action="do" type="GET">
          <a class="btn btn-primary" href="../rest/csv/alerts/emitted/v1"><i class="icon-file-excel"></i> CSV</a>
          <a class="btn btn-primary" href="../rest/html/alerts/emitted/v1"><i class="icon-file-html"></i> HTML</a>
          <a class="btn btn-info" href="events.html">Events page &raquo;</a>
          <span class="pull-right">
              <input name="event" type="hidden" value="emitAlert" />
              <input class="input-large" name="alert" type="text" placeholder="alert name" />
              <button class="btn btn-danger" type="submit" value="submit"><i class="icon-bell"></i> Emit alert</button>
          </span>
          </form>
          <p><?view:lastemittedalerts?>
        </div>
        <div class="span4">
          <h2>Available alert channels</h2>
          <p>Following channels can be used in alert subscriptions.
          <p><?view:alertchannels?>
        </div>
      </div>
      <div class="row">
        <div class="span12">
          <h2>Alerts Subscriptions</h2>
          <p>For every emitted alert, subscriptions are evaluated from top to bottom.
           If several subsctiptions match an alert, it is emitted several times, one
           per matching subscription.
           If a stop subscription matches an alert, next subscriptions are not evaluated
           regardless if they match the alert or not.
          <p><a class="btn btn-primary" href="../rest/csv/alerts/subscriptions/v1"><i class="icon-file-excel"></i> CSV</a>
          <a class="btn btn-primary" href="../rest/html/alerts/subscriptions/v1"><i class="icon-file-html"></i> HTML</a>
          <p><?view:alertsubscriptions?>
        </div>
      </div>
      <div class="row">
        <div class="span12">
          <h2>Alerts Settings</h2>
          <p>For every emitted alert, some global alerts settings can be
           overriden with the following settings.
           Settings are evaluated from top to bottom. If several settings
           match the alert, the first one is taken into account.
          <p><a class="btn btn-primary" href="../rest/csv/alerts/settings/v1"><i class="icon-file-excel"></i> CSV</a>
          <a class="btn btn-primary" href="../rest/html/alerts/settings/v1"><i class="icon-file-html"></i> HTML</a>
          <p><?view:alertsettings?>
        </div>
      </div>
      <div class="row">
        <div class="span12">
          <h2>Tasks parameters related to alerts</h2>
          <a class="btn btn-primary" href="../rest/csv/tasks/list/v1"><i class="icon-file-excel"></i> CSV</a>
          <a class="btn btn-primary" href="../rest/html/tasks/list/v1"><i class="icon-file-html"></i> HTML</a>
          <a class="btn btn-info" href="tasks.html">Tasks page &raquo;</a>
          <p><?view:tasksalerts?>
        </div>
      </div>
     </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
<?include:footer.html?>
